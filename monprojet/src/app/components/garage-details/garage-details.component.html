<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container">
    <a class="navbar-brand" href="#">Mon Site</a>
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/garages">Liste des Garages</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/garage/add">Créer un Garage</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/voitures">Liste des Voitures</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/voiture/add">Créer une Voiture</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<br /><br /><br />
<div class="container">
  <div class="text-center">
    <h2>Détails du garage {{ garage.nom }}</h2>
  </div>
  <div *ngIf="successMessage" class="alert alert-success">
    {{ successMessage }}
  </div>
  <div *ngIf="cancelMessage" class="alert alert-warning">
    {{ cancelMessage }}
  </div>
  <form #garageForm="ngForm" (ngSubmit)="saveGarage()">
    <div class="form-group">
      <label>ID</label>
      <input
        class="form-control"
        type="text"
        name="id_garage"
        required
        [(ngModel)]="garage.id_garage"
        disabled
      />
    </div>
    <div class="form-group">
      <label>Nom</label>
      <input
        class="form-control"
        type="text"
        name="nom"
        required
        [(ngModel)]="garage.nom"
        [disabled]="!isEditing"
      />
    </div>
    <div class="form-group">
      <label>Numéro de téléphone</label>
      <input
        class="form-control"
        type="text"
        name="numeroTelephone"
        required
        [(ngModel)]="garage.numeroTelephone"
        [disabled]="!isEditing"
        pattern="^0[1-9][0-9]{8}$"
      />
    </div>
    <div class="form-group">
      <label>Email</label>
      <input
        class="form-control"
        type="email"
        name="mail"
        required
        [(ngModel)]="garage.mail"
        [disabled]="!isEditing"
        pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
      />
    </div>
    <div class="form-group">
      <label>Ville</label>
      <input
        class="form-control"
        type="text"
        name="ville"
        required
        [(ngModel)]="garage.ville!.ville"
        [disabled]="!isEditing"
      />
    </div>
    <br />
    <div *ngIf="isEditing" class="form-group">
      <button
        class="btn btn-success"
        type="submit"
        [disabled]="!garageForm.form.valid"
      >
        Enregistrer
      </button>
      <button class="btn btn-secondary" type="button" (click)="cancelEdit()">
        Annuler
      </button>
    </div>
  </form>
  <br />
  <div *ngIf="!isEditing">
    <button class="btn btn-primary" type="button" (click)="editGarage()">
      Modifier
    </button>
    <button class="btn btn-danger" type="button" (click)="deleteGarage()">
      Supprimer
    </button>
  </div>
</div>
<footer><br /><br /><br /><br /><br /></footer>
