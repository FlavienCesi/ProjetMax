<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container">
    <a class="navbar-brand" href="#">Mon Site</a>
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/garages">Liste des Garages</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/garage/add">Créer un Garage</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/voitures">Liste des Voitures</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/voiture/add">Créer une Voiture</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<br /><br /><br />
<div class="container">
  <div class="row">
    <div class="col-md-5 mb-3">
      <label for="nom">Nom du garage</label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="nom"
        (ngModelChange)="search()"
        name="nom"
        id="nom"
      />
    </div>
    <div class="col-md-5 mb-3">
      <label for="ville">Ville</label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="ville"
        name="ville"
        id="ville"
      />
    </div>
    <div class="col-md-2 d-flex justify-content-center align-items-center">
      <button class="btn btn-success" (click)="search()">Rechercher</button>
    </div>
  </div>
  <div class="text-center">
    <h2>Ajouter une nouvelle voiture</h2>
  </div>
  <form (ngSubmit)="addVoiture()" #voitureForm="ngForm">
    <div class="form-group">
      <label for="garage">Garage</label>
      <select
        class="form-control"
        id="garage"
        name="garage"
        [(ngModel)]="newVoiture.garage"
      >
        <option *ngFor="let garage of garages" [value]="garage.id_garage">
          {{ garage.nom }} - {{ garage.ville?.ville }}
        </option>
      </select>
    </div>
    <div class="form-group">
      <label for="plaque">Plaque</label>
      <input
        type="text"
        class="form-control"
        id="plaque"
        name="plaque"
        pattern="[A-Z]{2}-[0-9]{3}-[A-Z]{2}"
        required
        [(ngModel)]="newVoiture.plaque"
      />
    </div>
    <div class="form-group">
      <label for="kilometre">Kilometre</label>
      <input
        type="number"
        class="form-control"
        id="kilometre"
        name="kilometre"
        required
        [(ngModel)]="newVoiture.kilometre"
      />
    </div>
    <div class="form-group">
      <label for="marque">Marque</label>
      <input
        type="text"
        class="form-control"
        id="marque"
        name="marque"
        required
        [(ngModel)]="newVoiture.marque"
      />
    </div>
    <div class="form-group">
      <label for="modele">Modèle</label>
      <input
        type="text"
        class="form-control"
        id="modele"
        name="modele"
        required
        [(ngModel)]="newVoiture.modele"
      />
    </div>
    <div class="form-group mb-3">
      <label for="annee">Année </label>
      <select
        class="form-control"
        id="annee"
        name="annee"
        required
        [(ngModel)]="newVoiture.annee"
      >
        <option value="" disabled>Sélectionner une année</option>
        <option *ngFor="let year of years" [value]="year">{{ year }}</option>
      </select>
    </div>

    <div class="form-group">
      <div class="row">
        <div class="col-md-3 mb-3 form-check">
          <input
            class="form-check-input"
            type="radio"
            name="carburant"
            id="diesel"
            value="Diesel"
            [(ngModel)]="newVoiture.carburant"
            required
          />
          <label class="form-check-label" for="diesel">Diesel</label>
        </div>
        <div class="col-md-3 mb-3 form-check">
          <input
            class="form-check-input"
            type="radio"
            name="carburant"
            id="essence"
            value="Essence"
            [(ngModel)]="newVoiture.carburant"
            required
          />
          <label class="form-check-label" for="essence">Essence</label>
        </div>
        <div class="col-md-3 mb-3 form-check">
          <input
            class="form-check-input"
            type="radio"
            name="carburant"
            id="electrique"
            value="Electrique"
            [(ngModel)]="newVoiture.carburant"
            required
          />
          <label class="form-check-label" for="electrique">Electrique</label>
        </div>
        <div class="col-md-3 mb-3 form-check">
          <input
            class="form-check-input"
            type="radio"
            name="carburant"
            id="gpl"
            value="GPL"
            [(ngModel)]="newVoiture.carburant"
            required
          />
          <label class="form-check-label" for="gpl">GPL</label>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3 mb-3 form-check">
          <input
            class="form-check-input"
            type="radio"
            name="carburant"
            id="ethanol"
            value="Ethanol"
            [(ngModel)]="newVoiture.carburant"
            required
          />
          <label class="form-check-label" for="ethanol">Ethanol</label>
        </div>
        <div class="col-md-3 mb-3 form-check">
          <input
            class="form-check-input"
            type="radio"
            name="carburant"
            id="hybride_e"
            value="Hybride E"
            [(ngModel)]="newVoiture.carburant"
            required
          />
          <label class="form-check-label" for="hybride_e">Hybride E</label>
        </div>
        <div class="col-md-3 mb-3 form-check">
          <input
            class="form-check-input"
            type="radio"
            name="carburant"
            id="hybride_d"
            value="Hybride D"
            [(ngModel)]="newVoiture.carburant"
            required
          />
          <label class="form-check-label" for="hybride_d">Hybride D</label>
        </div>
      </div>
    </div>
    <div
      *ngIf="submitted && successMessage"
      class="alert alert-success"
      role="alert"
    >
      {{ successMessage }}
    </div>
    <div
      *ngIf="submitted && errorMessage"
      class="alert alert-danger"
      role="alert"
    >
      {{ errorMessage }}
    </div>
    <br />
    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="!voitureForm.form.valid"
    >
      Ajouter
    </button>
  </form>
</div>
<footer><br /><br /><br /><br /><br /></footer>
